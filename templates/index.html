<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ODE Solver</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        .input-group {
            margin-bottom: 10px;
        }
        .input-group label {
            display: block;
        }
    </style>
</head>
<body>
<form id="parameters-form">
    <div class="input-group">
        <label for="j">j:</label>
        <input type="range" name="j" id="j-range" min="0" max="10" step="0.1" value="5">
        <input type="number" name="j" id="j-number" min="0" max="10" step="0.1" value="5">
    </div>
    <!-- Repeat for other parameters, adjusting min, max, step as necessary -->
    <button type="submit">Solve and Plot</button>
</form>
<div id="plotAngle"></div>
<div id="plotVelocity"></div>
<div id="plotVoltage"></div>

<script>
// Function to synchronize range and number inputs
function syncInputs(rangeInput, numberInput) {
    rangeInput.addEventListener('input', () => {
        numberInput.value = rangeInput.value;
    });
    numberInput.addEventListener('input', () => {
        rangeInput.value = numberInput.value;
    });
}

// Set up synchronization for each pair of inputs
syncInputs(document.getElementById('j-range'), document.getElementById('j-number'));
// Add syncInputs calls for other parameters...

document.getElementById('parameters-form').onsubmit = function(e) {
    e.preventDefault();
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData.entries());
    fetch('/solve', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
    })
    .then(response => response.json())
    .then(data => {
        // Plotting code as before...
    });
};
</script>
</body>
</html>
